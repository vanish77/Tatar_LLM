# ?? НАЧНИТЕ ОТСЮДА

Добро пожаловать в проект по обучению татарской LLM с нуля!

## ? Что было создано

Полный проект для обучения языковой модели включает:

### ?? Основные компоненты

1. **Скрипты для обучения** (3 файла)
   - `01_prepare_data.py` - загрузка и подготовка корпуса
   - `02_train_tokenizer.py` - обучение BPE токенизатора
   - `03_train.py` - обучение GPT модели

2. **Архитектура и утилиты** (3 файла)
   - `model.py` - GPT архитектура с Rotary Embeddings
   - `config.py` - конфигурации для разных размеров моделей
   - `utils.py` - функции для загрузки и генерации

3. **Тестирование** (3 файла)
   - `demo_inference.ipynb` - Jupyter ноутбук с демо
   - `quick_test.py` - быстрый тест модели
   - `app.py` - Gradio веб-интерфейс

4. **Документация** (8 файлов!)
   - `README.md` - основная документация
   - `QUICKSTART.md` - быстрый старт за 5 минут
   - `ARCHITECTURE.md` - детальное описание архитектуры
   - `EXAMPLES.md` - примеры работы модели
   - `SUBMISSION.md` - чеклист для сдачи
   - `DEPLOYMENT.md` - как развернуть модель
   - `PROJECT_SUMMARY.md` - резюме проекта
   - `START_HERE.md` - этот файл

5. **Вспомогательные** (5 файлов)
   - `requirements.txt` - зависимости Python
   - `.gitignore` - для Git
   - `.cursorignore` - для Cursor AI
   - `run_pipeline.sh` - скрипт полного пайплайна
   - `check_project_en.py` - проверка готовности

## ?? Что дальше?

### Вариант 1: Быстрый старт (рекомендуется)

```bash
# 1. Установите зависимости
pip install -r requirements.txt

# 2. Запустите полный пайплайн
./run_pipeline.sh

# Это автоматически:
# - Загрузит данные
# - Обучит токенизатор
# - Обучит модель
# Займет ~1 час
```

### Вариант 2: Пошаговое выполнение

```bash
# Шаг 1: Подготовка данных (~5 мин)
python 01_prepare_data.py

# Шаг 2: Обучение токенизатора (~1 мин)
python 02_train_tokenizer.py

# Шаг 3: Обучение модели (~30-60 мин)
python 03_train.py

# Шаг 4: Тестирование (~1 мин)
python quick_test.py

# Шаг 5: Демонстрация
jupyter notebook demo_inference.ipynb
```

### Вариант 3: Быстрое тестирование (для проверки)

Если хотите просто проверить работоспособность:

1. Откройте `03_train.py`
2. Измените `max_iters = 2000` (было 10000)
3. Запустите обучение (~10 минут)
4. Протестируйте результат

## ?? Что читать?

Рекомендуемый порядок:

1. **Сначала**: `QUICKSTART.md` - понять как запустить
2. **Потом**: `README.md` - детали проекта
3. **Если интересно**: `ARCHITECTURE.md` - как устроена модель
4. **Перед сдачей**: `SUBMISSION.md` - чеклист сдачи

## ?? Настройка под ваше железо

### У вас M1/M2 Mac
? Всё настроено! Модель автоматически использует MPS.

### У вас мало памяти
Откройте `03_train.py` и измените:
```python
batch_size = 16  # было 32
n_layer = 4      # было 6
n_embd = 256     # было 512
```

### Хотите быстрее обучить
В `03_train.py`:
```python
max_iters = 3000  # было 10000
```

### Хотите лучшее качество
Используйте предустановленную конфигурацию в `config.py`:
```python
from config import TrainingConfig
config = TrainingConfig.large()  # вместо medium()
```

## ?? Что можно кастомизировать?

### 1. Размер словаря токенизатора
```bash
python 02_train_tokenizer.py --vocab_size 16384  # вместо 8192
```

### 2. Архитектура модели
В `03_train.py` или используйте `config.py`:
- `n_layer` - количество слоёв (4, 6, 8, 12)
- `n_head` - количество attention heads (4, 8, 12)
- `n_embd` - размерность (256, 512, 768)
- `block_size` - длина контекста (128, 256, 512)

### 3. Параметры обучения
- `batch_size` - размер батча
- `learning_rate` - скорость обучения
- `max_iters` - количество итераций

## ?? Частые проблемы

### "No module named 'torch'"
```bash
pip install -r requirements.txt
```

### "MPS backend out of memory"
Уменьшите `batch_size` в `03_train.py`

### Загрузка данных не работает
Скачайте вручную с https://wortschatz.uni-leipzig.de/en/download/Tatar
и положите в `data/raw/`

### Модель генерирует бессмыслицу
- Обучите дольше (увеличьте `max_iters`)
- Используйте больше данных
- Проверьте что обучение завершилось (не было ошибок)

## ?? Проверка прогресса

В любой момент запустите:
```bash
python check_project_en.py
```

Это покажет:
- ? Какие файлы готовы
- ?? Что нужно сделать
- ?? Чеклист для сдачи

## ?? Для сдачи работы

Когда всё готово:

1. Прочитайте `SUBMISSION.md` - полный чеклист
2. Загрузите код на GitHub
3. Загрузите модель на Hugging Face / Google Drive
4. Убедитесь что `demo_inference.ipynb` работает
5. Предоставьте ссылки преподавателю

## ?? Бонусные фичи (уже реализованы!)

- ? Rotary Position Embeddings
- ? Mixed Precision Training
- ? Gradient Checkpointing
- ? MPS Support (Apple Silicon)
- ? Cosine LR Schedule
- ? Gradio веб-интерфейс

Вы получите максимум баллов! ??

## ?? Нужна помощь?

1. Проверьте README.md - там ответы на большинство вопросов
2. Посмотрите EXAMPLES.md - примеры работы
3. Изучите ARCHITECTURE.md - как устроена модель
4. Запустите `python check_project_en.py` - диагностика

## ?? Быстрые команды

```bash
# Проверить готовность проекта
python check_project_en.py

# Запустить полный пайплайн
./run_pipeline.sh

# Быстрый тест модели
python quick_test.py

# Интерактивная генерация
python utils.py

# Веб-интерфейс
python app.py  # после: pip install gradio
```

## ?? Ожидаемые результаты

После полного обучения:
- **Training loss**: ~2.5-3.0
- **Validation loss**: ~2.8-3.2
- **Perplexity**: ~15-25
- **Размер модели**: ~90 МБ
- **Время обучения**: 30-60 минут на M1 Pro

## ?? Следующие шаги прямо сейчас

1. ? **Если есть время** ? Запустите `./run_pipeline.sh`
2. ?? **Если нет времени** ? Читайте `QUICKSTART.md`
3. ?? **Если хотите кастомизировать** ? Изучите `config.py`
4. ?? **Перед сдачей** ? Откройте `SUBMISSION.md`

---

## ?? Структура файлов проекта

```
ММОТ_NLP/
?
??? START_HERE.md ? ВЫ ЗДЕСЬ
?
??? Быстрый старт:
?   ??? QUICKSTART.md
?   ??? run_pipeline.sh
?
??? Обучение (по порядку):
?   ??? 01_prepare_data.py
?   ??? 02_train_tokenizer.py
?   ??? 03_train.py
?
??? Код модели:
?   ??? model.py
?   ??? config.py
?   ??? utils.py
?
??? Тестирование:
?   ??? demo_inference.ipynb ? ГЛАВНОЕ ДЕМО
?   ??? quick_test.py
?   ??? app.py (Gradio)
?
??? Документация:
    ??? README.md ? ОСНОВНОЕ
    ??? ARCHITECTURE.md
    ??? EXAMPLES.md
    ??? SUBMISSION.md ? ПЕРЕД СДАЧЕЙ
    ??? DEPLOYMENT.md
    ??? PROJECT_SUMMARY.md
```

---

**Готовы начать? Выполните один из вариантов выше!**

Удачи с проектом! ????

---

*P.S. Если что-то непонятно - все ответы в README.md*


